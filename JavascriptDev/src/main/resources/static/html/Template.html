<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" charset="UTF-8" content="width=device-width, initial-scale=1">
    <title>Template tag</title>
    <style>
    </style>
</head>

<!-- CSS -->
<Style>
    p.code {
        color:rgb(147, 210, 226);
        background-color:rgb(65, 65, 65);
        font-family: 'Courier New', Courier, monospace;
    }

    span.greenText {
        color: rgb(2, 182, 2);
    }

    span.blueText {
        color: rgb(78, 114, 161);
    }

</Style>

<!-- HTML body -->

<body>
    <div>
        <h1>FAQ Javascript Data Manipulation</h1>
    </div>
    <div>
        <!--                     Table of Contents                     -->
        <h2><a name="tableOfContents">Table of Contents</a></h2>
        <ul>
            <li><a href="#match">.match()</a></li>
            <ul>
                <li><a href="#match1">Finding first match</a></li>
                <li><a href="#match2">Finding all matches</a></li>
            </ul>

            <li><a href="#includes">.includes()</a></li>
            <ul>
                <li><a href="#includes1">Checking String contains Substring</a></li>
            </ul>

            <li><a href="#substring">.toUpperCase()</a></li>
            <ul>
                <li><a href="#includes1">Changing string to Upper Case</a></li>
            </ul>

        </ul>
    </div>
    <div>
        <!--                     String Functions                     -->
        <h2><a name="Function">String Functions</a></h2>
        <article>
            <!--                     Match                     -->
            <h3><a name="match">Function .match()</a></h3>
            <!-- syntax -->
            <div>
                <p class="code">
                    <span class="greenText">// .match(String)</span>
                    <span class="blueText">var</span> arrMatches = "targetStr".match("tar");<br>
                    console.log(arrMatches) <span class="greenText">// returns ["tar"]</span><br>
                    <br>
                    arrMatches = "targetStr".match("T");<br>
                    console.log(arrMatches) <span class="greenText">// returns <i>null</i></span><br>
                    <br>
                    <span class="greenText">// .match(Regex)</span>
                    <span class="blueText">var</span> arrMatches = "targetStr".match(/t/);<br>
                    console.log(arrMatches) <span class="greenText">// returns ["t"]</span><br>
                    <br>
                    arrMatches = "targetStr".match(/t/g);<br>
                    console.log(arrMatches) <span class="greenText">// returns ["t", "t", "t"]</span><br>
                </p>
            </div>
            <a href="#tableOfContents">Back to Top</a>
            <!-- summary -->
            <h3>Summary</h3>
            <div>
                <p>
                    <b>.match()</b> searches a string for a match.
                    Search a String for a (case-sensitive) match <i>against another String or a Regex</i>.<br>
                    If a match is found, return an Array containing the matched String.<br>
                    Else, return <b>null (not "null" or [])</b>.<br>
                    <br>
                    <i>Note:</i> If the regular expression DOES NOT include the <b>/g flag (to perform a 'global search')</b>,<br>
                    the match() method will return only the first match in the string. In this case, it's functionally<br>
                    the same as giving a String parameter.<br>
                    <br>
                    <i>Sidenote:</i> Besides /g, other regex flags (aka gimsuy) include:
                    <ul>
                        <li>g (multi-match) - matches multiple times</li>
                        <li>i (case-insensitive) - A and a both will match "a"</li>
                        <li>m (multiline-mode) - Will match all lines of a multiline string</li>
                        <li>s (dotall-mode - Note: not fully supported) - A dot '.' will match \n, normally a dot matches "any
                            character except a newline"</li>
                        <li>u (enable Unicode) - Enables matching of Unicode</li>
                        <li>y (sticky mode) - match accounts for position/index</li>
                    </ul>
                    <br>
                    <i>Note:</i> It's probably a good idea <b>returning an empty array</b> instead of null, by adding "|| []".<br>
                    Like so;<br>
                    <span style="font-family:Arial bold">let result = "someString".match(matchStrOrRegex) || [];</span> *See
                </p>
            </div>
            <a href="#tableOfContents">Back to Top</a>
            <!-- examples -->
            <h3>Examples</h3>
            <div>
                <div>
                    <h4>Eg.1 - .match(String)</h4>
                    <p>
                        TargetStr = "Natalie"
                        <button onclick="autofill('Natalie', 'srcMatchStrInput')">Autofill</button><br>
                        MatchStr = "Nat"
                        <button onclick="autofill('Nat', 'matchStrInput')">Autofill</button><br>
                        Expected Rtn ==> ["Nat"]<br>

                        TargetStr = "Otter Ottoman Empore"
                        <button onclick="autofill('Otter Ottoman Empore', 'srcMatchStrInput')">Autofill</button><br>
                        MatchStr = "Ott"
                        <button onclick="autofill('Ott', 'matchStrInput')">Autofill</button><br>
                        Expected Rtn ==> ["Ott"]<br>
                    </p>
                    <br>
                    <input type="text" id="srcMatchStrInput" placeholder="Enter a TargetStr" size="50" maxlength="50"><br>
                    <input type="text" id="matchStrInput" placeholder="Enter a MatchStr" size="50" maxlength="50"><br>
                    <textarea id="matchStrResult" disabled rows="2" cols="46">.match() Rtn...</textarea><br>
                    <br>
                </div>
                <div>
                    <h4>Eg.2 - .match(Regex)</h4>
                    <p>
                        TargetStr = "The rain in SPAIN stays mainly in the plain"
                        <button onclick="autofill('The rain in SPAIN stays mainly in the plain', 'srcMatchRegexInput')">Autofill</button><br>
                        MatchRegex = /ain/g<i> (Note this is not "/ain/g")</i><br>
                        <button onclick="autofill('/ain/g', 'matchRegexInput')">Autofill</button><br>
                        Rtn = ["ain", "ain", "ain", "ain"]<br>
                        <br>
                        Eg.2<br>
                        TargetStr = "These United States"
                        <button onclick="autofill('These United States', 'srcMatchRegexInput')">Autofill</button><br>
                        MatchStr = "/es/"
                        <button onclick="autofill('/es/', 'matchRegexInput')">Autofill</button><br>
                        Rtn ==> []<br>
                    </p>
                    <br>
                    <input type="text" id="srcMatchRegexInput" placeholder="Enter a TargetStr" size="50" maxlength="50"><br>
                    <input type="text" id="matchRegexInput" placeholder="Enter a Regex" size="50" maxlength="50"><br>
                    <textarea id="matchRegexResult" disabled rows="2" cols="46">.Match result...</textarea><br>
                <br>
               
                </div>
                
            </div>
            <a href="#tableOfContents">Back to Top</a>
            <!-- sample snippets -->
            <h3>Snippets</h3>
            <div>
                <h4><a name="match1">Use-case #1: Finding first match</a></h4>


                <h4><a name="match2">Use-case #2: Finding all matches</a></h4>


            </div>

            <p>
                
            </p>
            
            
            <br>
            
            <br>




            <a href="#tableOfContents">Back to Top</a>
            <br>


        </article>
    </div>



</body>

<!-- Javascript -->
<script type="text/javascript">
    // match String to String
    document.getElementById("matchStrInput").onchange = function () {
        let targetStr = document.getElementById("srcMatchStrInput").value;
        let matchStr = document.getElementById("matchStrInput").value;
        let result = targetStr.match(matchStr);
        let resultStr = "";

        // .match may NOT find a match, in which case it returns null
        if (result == null) {
            resultStr = "null";
        }
        // match found
        else {
            resultStr = arrayToString(result);
        }
        document.getElementById("matchStrResult").value = resultStr;
    }

    // match String to Regex
    document.getElementById("matchRegexInput").onchange = function () {
        let targetStr = document.getElementById("srcMatchRegInput").value;
        let matchStr = document.getElementById("matchRegexInput").value;
        console.log(targetStr);
        console.log(matchStr);

        let flags = matchStr.replace(/.*\/([gimuy]*)$/, '$1');
        console.log(flags);
        if (flags === matchStr) {
            flags = '';
        }
        let pattern = (flags ? matchStr.replace(new RegExp('^/(.*?)/' + flags + '$'), '$1') : matchStr);
        let matchRegex = new RegExp(pattern, flags);
        let result = targetStr.match(matchRegex) || [];
        console.log(result);
        let resultStr = "";

        // .match may NOT find a match, in which case it returns null
        if (result == null) {
            resultStr = "null";
        }
        // match found
        else {
            resultStr = arrayToString(result);
        }
        document.getElementById("matchRegexResult").value = resultStr;
    }

    // helper methods
    function autofill(text, targetID) {
        document.getElementById(targetID).value = text;
    }

    function arrayToString(result) {
        let resultStr = "[";
        for (let i = 0; i < result.length; i++) {
            if (i != 0 && i != result.length) {
                resultStr = resultStr + ", ";
            }
            resultStr = resultStr + result[i];
        }
        resultStr = resultStr + "]";
        return resultStr;
    }
</script>

</html>