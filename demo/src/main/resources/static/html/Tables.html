<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Tables.html</title>
    <style>
        table,
        th,
        td {
            border: 1px solid gray
        }
    </style>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>

<body>
    <h1>Tables.html</h1>
    <h2>Example table</h2>
    <pre>
    Function createNewTable(<br>
        targetID,<br>
        tableID,<br>
        headersArray,<br>
        cellsArray,<br>
        cellsArrayIsDelimitedByColumn<br>
    )
    </pre>
    <hr>

    <div id="tableDiv">
        <span>StaticTable</span>
    </div>

    <hr>

    <div id="tableDiv2">
        <span>StaticTable2</span>
    </div>

    <!-- <button onclick="a()">Button C</button> -->

    <hr>

    <!-- buttons -->
    <div>Enter Row:Column to retrieve Cell from staticTable (jQuery)</div>
    <div>Note: This queries all td cells, indices include thead row.</div>
    <input type="text" id="queryRow" value="0" placeholder="Enter row...">
    <input type="text" id="queryCol" value="0" placeholder="Enter col...">
    <input type="button" id="btn0" value="btn0">
    <span id="queryResults"></span>
    <br />
    <div>Enter Row:Column to retrieve Cell from staticTable (Javascript)</div>
    <div>Note: This queries cells in tbody, indices exclude thead row.</div>
    <input type="text" id="queryRow2" value="0" placeholder="Enter row...">
    <input type="text" id="queryCol2" value="0" placeholder="Enter col...">
    <input type="button" id="btn2" value="btn2">
    <span id="queryResults2"></span>
    <br />
    <div>GetColumn</div>
    <input type=number id="getColumnInput" placeholder="Enter column number (from left[0])" value=0></input>
    <input type="button" id="btn3" value="btn3">
    <br />
    <div>Print all cell data in StaticTable</div>
    <input type="button" id="btn1" value="btn1">
    <div>
        <span id="queryResults3"></span>
    </div>
    <input type="button" onclick="deleteAll()">
    <script>
        // This works, deletes all rows and cells in tbody
        function deleteAll() {
            var thisTable = document.getElementById("staticTable");
            var thisTbody = thisTable.children[1];
            thisTbody.innerHTML = "";
        }
    </script>

    <!-- <input type="text" id="text1" value="0"> -->
    <!-- <input type="button" id="btn1" value="td:eq(x)"> -->


    <script type="text/javascript" src="../js/references/Tables.js"></script>

    <script>
        $('#btn3').click(function () {
            console.log("clicked btn3");
            let columnNum = document.getElementById("getColumnInput").value;
            var columnArray = [];
            columnArray = getColumn("staticTable2", columnNum);
            console.log(columnArray);
            mergeSameCells(columnArray);
        })


        // Print all cell data in staticTable
        $('#btn1').click(function () {
            console.log("clicked btn1")
            var thisTable = document.getElementById("staticTable");
            var thisTbody = thisTable.children[1];
            var allRows = thisTbody.children;
            var allCellData = [];
            for (let i = 0; i < allRows.length; i++) {
                let eachRow = allRows[i];
                let eachRowData = {};
                eachRowData.Code = eachRow.children[0].innerHTML;
                eachRowData.Name = eachRow.children[1].innerHTML;
                eachRowData.Price = eachRow.children[2].innerHTML;
                eachRowData.Stock = eachRow.children[3].innerHTML;
                allCellData.push(eachRowData);
            }
            console.log("allCellData=");
            console.log(allCellData);
            var showResults = document.getElementById("queryResults3");
            showResults.innerHTML = showResults.innerHTML + "------" + Date.now() + "------" + "<br/>";
            for (let i2 = 0; i2 < allCellData.length; i2++) {
                let eachRow = allCellData[i2];
                console.log("eachRow=")
                console.log(eachRow);
                let code = eachRow.Code;
                let name = eachRow.Name;
                let price = eachRow.Price;
                let stock = eachRow.Stock;
                showResults.innerHTML = showResults.innerHTML + "Code:" + code + ", Name:" + name + ", Price:" + price + ", Stock:" + stock + "<br/>";
            }

        })

        // Queries for cell (row:col) innerHTML (includes thead row)
        $('#btn0').click(function () {
            console.log("clicked btn0");
            var row = document.getElementById("queryRow").value;
            var col = document.getElementById("queryCol").value;
            var str = "#staticTable-Row" + row + "-Col" + col;
            console.log(str);
            let s = $(str);
            console.log(s);
            document.getElementById("queryResults").innerHTML = s.text();
        })




        // Queries for cell (row:col) innerHTML (excludes thead row)
        $('#btn2').click(function () {
            console.log("clicked btn2");
            var row = document.getElementById("queryRow2").value;
            var col = document.getElementById("queryCol2").value;
            console.log("Row:Col=" + row + ":" + col);
            var thisTable = document.getElementById("staticTable");
            console.log("thisTable=");
            console.log(thisTable);
            var thisTbody = thisTable.children[1];
            console.log("thisTbody=");
            console.log(thisTbody);
            document.getElementById("queryResults2").innerHTML = thisTbody.children[row].children[col].innerHTML;
        });

        // If each index of cellsArray is a COLUMN
        let targetID = "tableDiv";
        let tableID = "staticTable";
        let headersArray = ["Code", "Name", "Price", "Stock"];
        let cellsArray = [
            ["A1", "A2", "A3", "B1"],
            ["Bananas", "Apples", "Oranges", "Pears"],
            ["$10", "$12", "$11", "$23"],
            ["210", "310", "110", "120"]
        ];
        let cellsArrayIsDelimitedByColumn = true;
        createNewTable(targetID,
            tableID,
            headersArray,
            cellsArray,
            cellsArrayIsDelimitedByColumn);

        // If each index of cellsArray is a ROW
        let targetID2 = "tableDiv2";
        let tableID2 = "staticTable2";
        let headersArray2 = ["Code", "Name", "Price", "Stock"];
        let cellsArray2 = [
            ["A1", "Bananas", "$10", "210"],
            ["A1", "Apples", "$12", "310"],
            ["A1", "Oranges", "$11", "110"],
            ["B1", "Pears", "$23", "120"],
            ["B2", "Cake", "$23", "120"],
            ["B2", "Pie", "$23", "120"],
            ["B3", "Pig", "$23", "120"],
            ["B3", "Bread", "$23", "120"],
            ["B3", "Rice", "$23", "120"]
        ];
        let cellsArrayIsDelimitedByColumn2 = false;
        createNewTable(targetID2,
            tableID2,
            headersArray2,
            cellsArray2,
            cellsArrayIsDelimitedByColumn2);


        // let theads = document.getElementById(tableID2).children[0].children[0];

        // let newTh = document.createElement("th");
        // newTh.innerHTML = "Testing Hidden1";
        // theads.appendChild(newTh);

        // // successfully hides newly created cell (create > append > hide)
        // newTh = document.createElement("th");
        // newTh.innerHTML = "Testing Hidden2";
        // theads.appendChild(newTh);
        // newTh.setAttribute("style", "display:none;");
        // // successfully hides newly created cell (create > hide > append)
        // newTh = document.createElement("th");
        // newTh.innerHTML = "Testing Hidden3";
        // newTh.setAttribute("style", "display:none;");
        // theads.appendChild(newTh);
        // // successfully hides newly created cell (create > append > hide)
        // newTh = document.createElement("th");
        // newTh.innerHTML = "Testing Hidden4";
        // theads.appendChild(newTh);
        // theads.lastElementChild.setAttribute("style", "display:none;");


        // Add a column of buttons to the end of each tr in the 1st table
        // addRowsDeleteBtns("tableDiv", "Delete Row");
        // addRowsDeleteBtns("staticTable", "Delete me");

        // Add a column of buttons to the end of each tr in the 2nd table
        // addRowsDeleteBtns("tableDiv2", "Delete");
        // addRowsDeleteBtns("staticTable2", "Delete!");

        // addRowsHideBtns("staticTable2", "Hide!");





    </script>
</body>

</html>