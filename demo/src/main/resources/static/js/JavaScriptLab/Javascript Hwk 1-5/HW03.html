<!DOCTYPE html>
<html>
<!-- Goal: Create a 0-5 star rating system;
Initially 5 grey'd out stars. The stars become colorized when mouse cursor mouses-over stars. Clicking will confirm a given rating. Stars remain reactive and a different rating can be given upon new click. -->

<head>
    <meta charset="UTF-8">
    <title>HW03.html</title>
    <style>
        /* Class s turns on greyscale filter over elements
        (in this case, a grey star)*/
        .s {
            -webkit-filter: grayscale(1);
        }

        /* Class n turns off greyscale filter */
        .n {
            -webkit-filter: grayscale(0);
        }
    </style>
</head>

<body>
    <div>
        <!-- Note the stars are labeled img[#]-->
        <img id="img1" class="s" src="images/star.jpg">
        <img id="img2" class="s" src="images/star.jpg">
        <img id="img3" class="s" src="images/star.jpg">
        <img id="img4" class="s" src="images/star.jpg">
        <img id="img5" class="s" src="images/star.jpg">

        <div id="iddiv"></div>

    </div>

    <script>
        // 
        let flag = true, flag2 = true;
        // get all star imgs and put it into an array
        let ArrayOfStars = document.querySelectorAll("img.s");
        // attach mouse-over, mouse-out (opposite of mouse-over), and click events to each star img
        for (let i = 0; i < ArrayOfStars.length; i++) {
            ArrayOfStars[i].onmouseover = mouseOver;
            ArrayOfStars[i].onmouseout = mouseOut;
            ArrayOfStars[i].onclick = Click;
        }
        function mouseOver() {
            // get star num of the star that's moused-over
            let starNo = this.id.charAt(3);     // 'this.id' returns "img[#]"
            // turn off greyscale for stars on its left, and itself
            for (let i = 0; i < starNo; i++) {
                ArrayOfStars[i].className = "n";    // .n turns off greyscale
                // console.log(`mouseover=${i}`);
            }
            document.getElementById("iddiv").innerHTML = `Moused-over star img${starNo}`;
        }
        function mouseOut() {
            // get star num of the star that's  moused-out
            let starNo = this.id.charAt(3);
            // turn on greyscale for stars on its left, and itself
            for (let i = 0; i < starNo; i++) {
                ArrayOfStars[i].className = "s";    // .s turns on greyscale
                // console.log(`mouseout = ${i} `);
            }
            document.getElementById("iddiv").innerHTML = `Moused-out star img${starNo - 1}`;
        }
        function Click() {
            let starNo = this.id.charAt(3);
            document.getElementById("iddiv").innerHTML = `You give star No = ${starNo}`;

        }
    </script>
</body>

</html>